# Checksum

중복검사의 한 형태로, 자료가 특정 요인(전송, 저장, 변환 등)에 의해 변경되지 않았음을 보장하는 방법이다.

</br>

## 어디에 사용될까?
신뢰할 수 없는 통신망에서 **자료를 전송** 할 때 정확한 데이터를 받기위해 사용되며, 해시 함수를 이용(해시섬이라고도 부른다)한 자료의 **변조 여부** 확인하기 위해서도 사용된다.

### 예시

1. 앱 서명: (.apk 나 .ipa 등) 앱을 기기에 설치할 때, 서비스하고있는 개발자가 만든 것인지, 아니면 누군가 조작(악성코드 삽입같은)하여 배포된 앱인지 확인할 때 앱 서명을 체크한다.

</br>

이 때 해당 버전의 앱에 서명된 체크섬과 다운로드 받은 앱의 체크섬이 서로 다르면 조작된 앱으로 간주하고 설치를 막거나 경고를 표시한다.

2. 불법 프로그램 감지: 유저가 악의적인 사용을 목적으로 프로그램을 조작했음을 감지하여 실행을 막는 역할을한다. 

</br>

## 동작방식

4바이트로 이루어진 16진수로 된 숫자 `0x25`, `0x62`, `0x3F`, `0x52` 가 있을 때,
1. 숫자를 모두 더한다 = 00100101(37) + 01100010(98) + 00111111(63) + 01010010(82) = 100011000(280)
2. 캐리 니블(최 상위 4비트)을 버린다. = 0001 1000(24)
3. 2의 보수를 적용한다 = 1110 1000 (이 값이 체크섬 바이트)
4. 체크섬 바이트와 기존값을 더한다 = 1 0001 1000 & 1110 1000 = 10 0000 0000
5. 캐리 니블을 버린다 = 00 0000 0000
6. 결과 값이 0x00 이라면 이 값은 오류가 없다는 의미이다.

</br>

## 전송예시
1. 송신측에서 데이터를 일정크리로 분할하여 블록으로 만든다.
2. 각각의 블록에 해쉬함수를 적용한다
3. 블록을 모두 더한 뒤(xor 이나 and 연산적용), 해당 체크섬 값과 데이터를 함께 전송한다.
4. 수신측에서 송신측에서 진행한 것과 동일하게 체크섬을 계산하여, 받은 체크섬과 동일한지 체크한다.
